<div class="object" id="leverPanel" onclick="revealInteraction('leverPanel')"></div>

<div class="interaction" id="leverPanel_interaction">
    <!-- <img src="objects/lever/lever.png" alt="Lever Panel" class="interaction-image"> -->

    <div class="lever-grid">
        <div class="lever" data-index="0" onclick="toggleLever(this)"></div>
        <div class="lever" data-index="1" onclick="toggleLever(this)"></div>
        <div class="lever" data-index="2" onclick="toggleLever(this)"></div>
        <div class="lever" data-index="3" onclick="toggleLever(this)"></div>
        <div class="lever" data-index="4" onclick="toggleLever(this)"></div>
        <div class="lever" data-index="5" onclick="toggleLever(this)"></div>
    </div>

    <div class="options" id="leverPanel_options">
        <button onclick="confirmLeverCode()">Confirmer</button>
        <button onclick="closeInteraction('leverPanel_interaction')">Fermer</button>
    </div>

    <div class="text">
        <p class="typewriter">Six leviers sont devant vous.</p>
    </div>
</div>

<style>
#leverPanel {
    background-image: url(objects/lever/lever.png);

    -webkit-mask: url(objects/lever/lever.png) center/contain no-repeat;
    mask: url(objects/lever/lever.png) center/contain no-repeat;

    width: 8%;
    height: 16%;
    top: 36%;
    left: 23.4%;
}

/* Interaction levers */
.lever-grid {
    display: grid;
    grid-template-columns: repeat(3, 70px);
    grid-template-rows: repeat(2, 110px);
    gap: 14px;
    justify-content: center;
    margin: 15px 0;
}

.lever {
    width: 70px;
    height: 110px;
    background-image: url(objects/leverPanel/leverDown.png);
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    cursor: pointer;
}

.lever.on {
    background-image: url(objects/leverPanel/leverUp.png);
}
</style>

<script>
    // 0 = off, 1 = on
    const leverPanelState = [0, 0, 0, 0, 0, 0];

    function toggleLever(el) {
        const index = Number(el.dataset.index);

        leverPanelState[index] = leverPanelState[index] === 0 ? 1 : 0;
        el.classList.toggle('on');
    }

    function confirmLeverCode() {
        const enteredCode = leverPanelState.join('');
        const correctCode = '101011'; // change as needed

        if (enteredCode === correctCode) {
            closeInteraction('leverPanel_interaction');
            console.log('Correct code!');
        } else {
            console.log('Wrong code');
        }
    }
</script>
